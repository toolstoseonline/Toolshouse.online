<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>File Splitter - Split Large Files</title>

<style>
*{
margin:0;
padding:0;
box-sizing:border-box;
font-family:Segoe UI, sans-serif;
}

body{
min-height:100vh;
display:flex;
justify-content:center;
align-items:center;
background:linear-gradient(135deg,#667eea,#764ba2);
padding:20px;
}

.card{
background:#fff;
width:100%;
max-width:600px;
padding:30px;
border-radius:20px;
box-shadow:0 25px 50px rgba(0,0,0,0.2);
text-align:center;
}

h2{
margin-bottom:20px;
}

.drop-area{
border:2px dashed #764ba2;
padding:25px;
border-radius:15px;
cursor:pointer;
transition:0.3s;
}

.drop-area:hover{
background:#f3f0ff;
}

.file-info{
margin-top:15px;
font-size:14px;
text-align:left;
}

input,button{
margin-top:15px;
padding:12px;
width:100%;
border:none;
border-radius:12px;
font-size:16px;
}

input{
border:1px solid #ccc;
}

button{
background:#764ba2;
color:white;
cursor:pointer;
transition:0.3s;
}

button:hover{
transform:translateY(-2px);
box-shadow:0 10px 20px rgba(0,0,0,0.2);
}

.parts{
margin-top:15px;
max-height:150px;
overflow:auto;
text-align:left;
font-size:14px;
}

.part-item{
padding:5px 0;
border-bottom:1px solid #eee;
cursor:pointer;
color:#764ba2;
}

.part-item:hover{
text-decoration:underline;
}

.loader{
display:none;
margin-top:15px;
}

.loader div{
width:25px;
height:25px;
border:4px solid #764ba2;
border-top:4px solid transparent;
border-radius:50%;
animation:spin 1s linear infinite;
margin:auto;
}

@keyframes spin{
100%{transform:rotate(360deg);}
}

@media(max-width:500px){
.card{padding:20px;}
}
</style>
</head>

<body>

<div class="card">
<h2>File Splitter - Split Large Files</h2>

<div class="drop-area" id="dropArea">
Drag & Drop File Here<br>or Click to Upload
<input type="file" id="fileInput" hidden>
</div>

<div class="file-info" id="fileInfo"></div>

<input type="number" id="sizeInput" placeholder="Enter split size in MB (e.g. 5)" min="1">

<button id="splitBtn">Split File</button>

<div class="loader"><div></div></div>

<div class="parts" id="partsContainer"></div>

</div>

<script>
const dropArea=document.getElementById("dropArea");
const fileInput=document.getElementById("fileInput");
const fileInfo=document.getElementById("fileInfo");
const splitBtn=document.getElementById("splitBtn");
const sizeInput=document.getElementById("sizeInput");
const loader=document.querySelector(".loader");
const partsContainer=document.getElementById("partsContainer");

let selectedFile=null;

dropArea.addEventListener("click",()=>fileInput.click());

dropArea.addEventListener("dragover",(e)=>e.preventDefault());

dropArea.addEventListener("drop",(e)=>{
e.preventDefault();
handleFile(e.dataTransfer.files[0]);
});

fileInput.addEventListener("change",(e)=>{
handleFile(e.target.files[0]);
});

function handleFile(file){
if(!file){
alert("No file selected");
return;
}
selectedFile=file;
fileInfo.innerHTML=
"<strong>Name:</strong> "+file.name+
"<br><strong>Size:</strong> "+(file.size/1024/1024).toFixed(2)+" MB";
partsContainer.innerHTML="";
}

splitBtn.addEventListener("click",()=>{
if(!selectedFile){
alert("Upload a file first");
return;
}

const sizeMB=parseInt(sizeInput.value);
if(!sizeMB || sizeMB<=0){
alert("Enter valid split size in MB");
return;
}

loader.style.display="block";

setTimeout(()=>{
splitFile(selectedFile,sizeMB);
loader.style.display="none";
},300);
});

function splitFile(file,sizeMB){
partsContainer.innerHTML="";
const chunkSize=sizeMB*1024*1024;
let start=0;
let partNumber=1;

while(start<file.size){
const chunk=file.slice(start,start+chunkSize);
const partName=file.name+".part"+partNumber;

const div=document.createElement("div");
div.className="part-item";
div.textContent=partName;
div.addEventListener("click",()=>{
downloadChunk(chunk,partName);
});
partsContainer.appendChild(div);

start+=chunkSize;
partNumber++;
}
}

function downloadChunk(blob,name){
const link=document.createElement("a");
link.href=URL.createObjectURL(blob);
link.download=name;
link.click();
}
</script>

</body>
</html>
